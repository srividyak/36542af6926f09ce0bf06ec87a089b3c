var http = require('http');

var tunnel = function(method, url, data, callback) {
  var options = {
    hostname: 'localhost',
    port: 4080,
    path: url,
    method: method
  };

  var wsRequest = http.request(options, function(wsResponse) {
    callback(wsResponse);
  });

  //In case of post
  if(data) {
    wsRequest.write(JSON.stringify(data));
  }
  
  wsRequest.end();
  
}

exports.tunnel = tunnel;
